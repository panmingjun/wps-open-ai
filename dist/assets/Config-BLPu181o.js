import{_ as c,c as d,a as s,b as y,w as p,v as h,F as k,r as b,d as m,e as n,o as a,t as x}from"./index-DpYFHdzo.js";const v=[{id:1,name:"DeepSeek Chat",url:"https://api.deepseek.com/beta/chat/completions",model:"deepseek-chat"}],C={name:"Dialog",data(){return{modelJson:v,current:-1,url:"",key:"",model:"",temperature:.6,list:[]}},methods:{onSave(){var t=n.getConfig();t||(t={current:-1,list:JSON.parse(JSON.stringify(v))});for(var e in v){var o=v[e],i=t.list.find(g=>g.id==o.id);if(i){var r=t.list.indexOf(i);i={...o,...i},t.list.splice(r,1,i)}else i=o,t.list.push(i)}var i=t.list.find(u=>u.id==-1);i||(i={id:-1},t.list.push(i)),t.current=this.current;var i=t.list.find(u=>u.id==t.current),r=t.list.indexOf(i);i={...i,key:this.key,temperature:this.temperature},this.current==-1&&(i={...i,name:this.name,url:this.url,model:this.model}),t.list.splice(r,1,i);var f=Application.Env.GetHomePath()+"/.wps-open-ai",l=f+"/config.json";Application.FileSystem.WriteFile(l,JSON.stringify(t)),n.reloadConfig(),close()}},watch:{current:function(){this.url="",this.key="",this.model="",this.temperature=.6;var t=n.getConfig();if(t){var e=this,o=t.list.find(i=>i.id==e.current);this.url=o.url,this.key=o.key,this.model=o.model,this.temperature=o.temperature}n.reloadConfig()}},mounted(){var t=n.getConfig();if(t&&t.current&&t.list){this.current=t.current;var e=t.list.find(o=>o.id==t.current);this.url=e.url,this.key=e.key,this.temperature=e.temperature,this.list=t.list}n.reloadConfig()}},w={class:"hello"},S={class:"global"},I={class:"divItem"},V=["value"],J={key:0,class:"divItem"},O={key:1,class:"divItem"},U={class:"divItem"},D={class:"divItem"},F={class:"divItem"};function N(t,e,o,i,r,f){return a(),d("div",w,[s("div",S,[s("div",I,[e[7]||(e[7]=s("span",{style:{"font-weight":"bolder",color:"slateblue",cursor:"pointer"}},"选择模型",-1)),p(s("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.current=l)},[(a(!0),d(k,null,b(r.modelJson,(l,u)=>(a(),d("option",{key:u,value:l.id},x(l.name),9,V))),128)),e[6]||(e[6]=s("option",{value:"-1"},"其他OpenAi模型",-1))],512),[[h,r.current]])]),r.current==-1?(a(),d("div",J,[e[8]||(e[8]=s("span",{style:{"font-weight":"bolder",color:"slateblue",cursor:"pointer"}},"填写模型地址",-1)),p(s("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=l=>r.url=l)},null,512),[[m,r.url]])])):y("",!0),r.current==-1?(a(),d("div",O,[e[9]||(e[9]=s("span",{style:{"font-weight":"bolder",color:"slateblue",cursor:"pointer"}},"填写模型名称",-1)),p(s("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>r.model=l)},null,512),[[m,r.model]])])):y("",!0),s("div",U,[e[10]||(e[10]=s("span",{style:{"font-weight":"bolder",color:"slateblue",cursor:"pointer"}},"填写密钥",-1)),p(s("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=l=>r.key=l)},null,512),[[m,r.key]])]),s("div",D,[e[11]||(e[11]=s("span",{style:{"font-weight":"bolder",color:"slateblue",cursor:"pointer"}},"设置温度",-1)),p(s("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=l=>r.temperature=l)},null,512),[[m,r.temperature]])]),e[12]||(e[12]=s("hr",null,null,-1)),s("div",F,[s("button",{style:{margin:"3px"},onClick:e[5]||(e[5]=l=>f.onSave())},"保存")])])])}const B=c(C,[["render",N],["__scopeId","data-v-a77b9243"]]);export{B as default};
